{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ListarComponent = class ListarComponent {\n  constructor(mascotasservService, toastr) {\n    this.mascotasservService = mascotasservService;\n    this.toastr = toastr;\n    this.mascotas = []; // array de mascotas\n    this.parametroBuscar = ''; //parámetro de búsqueda\n  }\n\n  ngOnInit() {\n    this.mascotasservService.mascotas.subscribe(resp => {\n      this.mascotas = resp;\n    });\n  }\n  buscar() {\n    this.mascotasservService.buscarMascotas(this.parametroBuscar).subscribe(resp => {\n      this.mascotas = resp;\n    });\n  }\n  eliminarMascota(pet) {\n    Swal.fire({\n      title: '¿Estas Seguro de eliminar?',\n      text: `Esta Seguro de borrar a${pet.raza}`,\n      icon: 'question',\n      showCancelButton: true,\n      confirmbuttonColor: `#3085d6`,\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Si, Eliminar !'\n    }).then(result => {\n      if (result.isConfirmed) {\n        this.mascotas = this.mascotas.filter(objMascota => objMascota.id !== pet.id);\n        this.mascotasservService.borrarMascotas(pet).subscribe(resp => {\n          this.toastr.success('El registro fue eliminado con éxito', 'Eliminado', {\n            positionclass: 'toast-top-right'\n          });\n        }, err => {\n          Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: err.error.msg\n          });\n        });\n      }\n    });\n  }\n};\nListarComponent = __decorate([Component({\n  selector: 'app-listar',\n  templateUrl: './listar.component.html',\n  styleUrls: ['./listar.component.scss']\n})], ListarComponent);\nexport { ListarComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,eAAe,GAArB,MAAMA,eAAe;EAI1BC,YAAoBC,mBAAwC,EAAUC,MAAW;IAA7D,wBAAmB,GAAnBD,mBAAmB;IAA+B,WAAM,GAANC,MAAM;IAH5E,aAAQ,GAAgB,EAAE,EAAC;IAC3B,oBAAe,GAAW,EAAE,CAAC,CAAC;EAG9B;;EAGAC,QAAQ;IACN,IAAI,CAACF,mBAAmB,CAACG,QAAQ,CAACC,SAAS,CAAEC,IAAI,IAAI;MACnD,IAAI,CAACF,QAAQ,GAAGE,IAAI;IACtB,CAAC,CAAC;EACJ;EAEAC,MAAM;IACJ,IAAI,CAACN,mBAAmB,CAACO,cAAc,CAAC,IAAI,CAACC,eAAe,CAAC,CAACJ,SAAS,CAAEC,IAAI,IAAG;MAC9E,IAAI,CAACF,QAAQ,GAAGE,IAAI;IACtB,CAAC,CAAC;EACJ;EAEAI,eAAe,CAACC,GAAa;IAC3BC,IAAI,CAACC,IAAI,CAAC;MACRC,KAAK,EAAE,4BAA4B;MACnCC,IAAI,EAAE,0BAA0BJ,GAAG,CAACK,IAAI,EAAE;MAC1CC,IAAI,EAAE,UAAU;MAChBC,gBAAgB,EAAE,IAAI;MACtBC,kBAAkB,EAAE,SAAS;MAC7BC,iBAAiB,EAAE,MAAM;MACzBC,iBAAiB,EAAE;KACpB,CAAC,CAACC,IAAI,CAAEC,MAAU,IAAI;MACrB,IAAGA,MAAM,CAACC,WAAW,EAAE;QACrB,IAAI,CAACpB,QAAQ,GAAC,IAAI,CAACA,QAAQ,CAACqB,MAAM,CAAEC,UAAoB,IAAGA,UAAU,CAACC,EAAE,KAAGhB,GAAG,CAACgB,EAAE,CAAC;QAElF,IAAI,CAAC1B,mBAAmB,CAAC2B,cAAc,CAACjB,GAAG,CAAC,CAC3CN,SAAS,CAAEC,IAAQ,IAAG;UACrB,IAAI,CAACJ,MAAM,CAAC2B,OAAO,CAAC,qCAAqC,EAAE,WAAW,EACtE;YAACC,aAAa,EAAE;UAAiB,CAAC,CAAC;QAErC,CAAC,EAAEC,GAAO,IAAG;UACXnB,IAAI,CAACC,IAAI,CAAC;YACRI,IAAI,EAAE,OAAO;YACbH,KAAK,EAAE,OAAO;YACdC,IAAI,EAAEgB,GAAG,CAACC,KAAK,CAACC;WACjB,CAAC;QACJ,CAAC,CAAC;;IAEN,CAAC,CAAC;EACJ;CAED;AAjDYlC,eAAe,eAL3BD,SAAS,CAAC;EACToC,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,GACWrC,eAAe,CAiD3B;SAjDYA,eAAe","names":["Component","ListarComponent","constructor","mascotasservService","toastr","ngOnInit","mascotas","subscribe","resp","buscar","buscarMascotas","parametroBuscar","eliminarMascota","pet","Swal","fire","title","text","raza","icon","showCancelButton","confirmbuttonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","filter","objMascota","id","borrarMascotas","success","positionclass","err","error","msg","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\luis2\\Downloads\\guia\\angular02\\src\\app\\modules\\mascotas\\pages\\listar\\listar.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { IMascotas } from '@modules/mascotas/interface/mascotas.interface';\nimport { MascotasservService } from '@modules/mascotas/services/mascotasserv.service';\n\n@Component({\n  selector: 'app-listar',\n  templateUrl: './listar.component.html',\n  styleUrls: ['./listar.component.scss']\n})\nexport class ListarComponent implements OnInit {\n  mascotas: IMascotas[] = [] // array de mascotas\n  parametroBuscar: string = ''; //parámetro de búsqueda\n\n  constructor(private mascotasservService: MascotasservService, private toastr:Toas) {\n  }\n\n\n  ngOnInit(): void {\n    this.mascotasservService.mascotas.subscribe((resp) =>{\n      this.mascotas = resp;\n    });\n  }\n\n  buscar(): void { //método para buscar\n    this.mascotasservService.buscarMascotas(this.parametroBuscar).subscribe((resp)=>{\n      this.mascotas = resp;\n    });\n  }\n\n  eliminarMascota(pet:IMascotas){\n    Swal.fire({\n      title: '¿Estas Seguro de eliminar?',\n      text: `Esta Seguro de borrar a${pet.raza}`,\n      icon: 'question',\n      showCancelButton: true,\n      confirmbuttonColor: `#3085d6`,\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Si, Eliminar !'\n    }).then((result:any) =>{\n      if(result.isConfirmed) {\n        this.mascotas=this.mascotas.filter((objMascota:IMascotas)=>objMascota.id!==pet.id)\n\n        this.mascotasservService.borrarMascotas(pet)\n        .subscribe((resp:any)=>{\n          this.toastr.success('El registro fue eliminado con éxito', 'Eliminado',\n          {positionclass: 'toast-top-right'});\n\n        },(err:any)=>{\n          Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: err.error.msg,\n          });\n        });\n      }\n    })\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}