{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { map } from 'rxjs';\nimport { EMAIL_VALIDATE, NAME_VALIDATE, NUMBER_VALIDATE } from 'src/app/constants/constants';\nimport Swal from 'sweetalert2';\nlet FormularioComponent = class FormularioComponent {\n  constructor(fb, toaster, ubicacionPais) {\n    this.fb = fb;\n    this.toaster = toaster;\n    this.ubicacionPais = ubicacionPais;\n    this.isEmail = EMAIL_VALIDATE;\n    this.isName = NAME_VALIDATE;\n    this.isMoney = NUMBER_VALIDATE;\n    this.isDate = '';\n  }\n  ngOnInit() {\n    this.formularioGeneral = this.iniciarFormulario();\n    this.llenarComboDepartamentos();\n  }\n  iniciarFormulario() {\n    return this.fb.group({\n      nombre: ['', [Validators.required, Validators.pattern(this.isName)]],\n      apellido: ['', [Validators.required, Validators.pattern(this.isName)]],\n      correo: ['', [Validators.required, Validators.pattern(this.isEmail)]],\n      genero: ['', [Validators.required]],\n      fecha: ['', [Validators.required, Validators.pattern(this.isDate)]],\n      mensaje: ['', [Validators.required, Validators.minLength(5), Validators.maxLength(200)]],\n      departamento: ['', [Validators.required]],\n      municipio: ['', [Validators.required]],\n      canton: ['', [Validators.required]]\n    });\n  }\n  esCampoValido(campo) {\n    const ValidarCampo = this.formularioGeneral.get(campo);\n    return !ValidarCampo?.valid && ValidarCampo?.touched ? 'is-invalid' : ValidarCampo?.touched ? 'is-valid' : '';\n  }\n  llenarComboDepartamentos() {\n    this.ubicacionPais.getDepa().pipe(map(dp => dp.filter(depa => depa.codigo.length === 2))).subscribe(resp => {\n      this.departamentos = resp;\n      console.log(this.departamentos);\n    });\n  }\n  deptoChange(id) {\n    this.ubicacionPais.getDepa().pipe(map(dp => dp.filter(muni => muni.codigo.startsWith(id) && muni.codigo.length == 4))).subscribe(resp => {\n      this.municipios = resp;\n      console.log(this.municipios);\n    });\n  }\n  guardar() {\n    if (this.formularioGeneral.valid) {\n      Swal.fire({\n        position: 'center',\n        title: 'Buen trabajo!',\n        text: `submit disparado, formulario es valido`,\n        icon: 'info'\n      });\n      console.log(this.formularioGeneral.value);\n    } else {\n      Swal.fire({\n        position: 'center',\n        title: 'Faltan datos en el formulario',\n        text: `submit disparado, formulario No valido`,\n        icon: 'warning'\n      });\n      return Object.values(this.formularioGeneral.controls).forEach(control => control.markAllAsTouched());\n    }\n  }\n};\nFormularioComponent = __decorate([Component({\n  selector: 'app-formulario',\n  templateUrl: './formulario.component.html',\n  styleUrls: ['./formulario.component.scss']\n})], FormularioComponent);\nexport { FormularioComponent };","map":{"version":3,"mappings":"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","names":["Component","Validators","map","EMAIL_VALIDATE","NAME_VALIDATE","NUMBER_VALIDATE","Swal","FormularioComponent","constructor","fb","toaster","ubicacionPais","ngOnInit","formularioGeneral","iniciarFormulario","llenarComboDepartamentos","group","nombre","required","pattern","isName","apellido","correo","isEmail","genero","fecha","isDate","mensaje","minLength","maxLength","departamento","municipio","canton","esCampoValido","campo","ValidarCampo","get","valid","touched","getDepa","pipe","dp","filter","depa","codigo","length","subscribe","resp","departamentos","console","log","deptoChange","id","muni","startsWith","municipios","guardar","fire","position","title","text","icon","value","Object","values","controls","forEach","control","markAllAsTouched","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\luis2\\Downloads\\guia\\angular02\\src\\app\\shared\\formulario\\formulario.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { IPais } from '@shared/interfaces/pais';\nimport { UbicacionPaisService } from '@shared/services/ubicacion-pais.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { map } from 'rxjs';\nimport { EMAIL_VALIDATE, NAME_VALIDATE, NUMBER_VALIDATE } from 'src/app/constants/constants';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-formulario',\n  templateUrl: './formulario.component.html',\n  styleUrls: ['./formulario.component.scss']\n})\nexport class FormularioComponent implements OnInit {\n\n\n  formularioGeneral!: FormGroup;\n  private isEmail: string = EMAIL_VALIDATE;\n  private isName: string = NAME_VALIDATE;\n  private isMoney: string = NUMBER_VALIDATE;\n  private isDate: string = '';\n  public departamentos!: IPais[];\n  public municipios!: IPais[];\n  constructor(private fb: FormBuilder, private toaster: ToastrService,\n    private ubicacionPais: UbicacionPaisService) { }\n\n\n\n  ngOnInit(): void {\n    this.formularioGeneral = this.iniciarFormulario();\n    this.llenarComboDepartamentos();\n  }\n  private iniciarFormulario(): FormGroup{\n    return this.fb.group({\n      nombre: ['', [Validators.required, Validators.pattern(this.isName)]],\n      apellido: ['', [Validators.required, Validators.pattern(this.isName)]],\n      correo: ['', [Validators.required, Validators.pattern(this.isEmail)]],\n      genero: ['', [Validators.required]],\n      fecha: ['', [Validators.required, Validators.pattern(this.isDate)]],\n      mensaje: ['', [Validators.required, Validators.minLength(5), Validators.maxLength(200)]],\n      departamento: ['', [Validators.required]],\n      municipio: ['', [Validators.required]],\n      canton: ['', [Validators.required]],\n    });\n  }\n  esCampoValido(campo: string){\n    const ValidarCampo = this.formularioGeneral.get(campo);\n    return !ValidarCampo?.valid && ValidarCampo?.touched\n    ? 'is-invalid' : ValidarCampo?.touched ? 'is-valid' : '';\n  }\n\n  llenarComboDepartamentos() {\n    this.ubicacionPais\n    .getDepa()\n    .pipe(map((dp)=> dp.filter((depa) => depa.codigo.length === 2 )))\n    .subscribe((resp) => {\n      this.departamentos = resp;\n      console.log(this.departamentos)\n    });\n  }\n\n  deptoChange(id: string): void{\n    this.ubicacionPais .getDepa()\n    .pipe(map((dp) => dp.filter ((muni) => muni.codigo.startsWith(id) && muni.codigo.length == 4)))\n    .subscribe((resp) => {\n      this.municipios = resp;\n      console.log(this.municipios);\n    })\n  }\n\nguardar(){\n  if (this.formularioGeneral.valid){\n    Swal.fire({\n      position: 'center',\n      title: 'Buen trabajo!',\n      text: `submit disparado, formulario es valido`,\n      icon: 'info',\n    });\n    console.log(this.formularioGeneral.value);\n  }else{\n    Swal.fire({\n      position: 'center',\n      title: 'Faltan datos en el formulario',\n      text: `submit disparado, formulario No valido`,\n      icon: 'warning',\n    });\n\n    return Object.values(this.formularioGeneral.controls)\n    .forEach((control) => control.markAllAsTouched()\n    );\n  }\n}\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}