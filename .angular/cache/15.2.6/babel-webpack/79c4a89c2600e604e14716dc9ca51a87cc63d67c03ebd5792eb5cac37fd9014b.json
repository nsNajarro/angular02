{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@modules/mascotas/services/mascotasserv.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ListarComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"app-card\", 5);\n    i0.ɵɵlistener(\"eliminar\", function ListarComponent_ng_container_6_Template_app_card_eliminar_1_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.eliminarMascota($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const obj_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"obj\", obj_r1);\n  }\n}\nexport class ListarComponent {\n  constructor(mascotasservService) {\n    this.mascotasservService = mascotasservService;\n    this.mascotas = []; // array de mascotas\n    this.parametroBuscar = ''; //parámetro de búsqueda\n  }\n\n  ngOnInit() {\n    this.mascotasservService.mascotas.subscribe(resp => {\n      this.mascotas = resp;\n    });\n  }\n  buscar() {\n    this.mascotasservService.buscarMascotas(this.parametroBuscar).subscribe(resp => {\n      this.mascotas = resp;\n    });\n  }\n  eliminarMascota(pet) {\n    Swal.fire({\n      title: '¿Estas Seguro de eliminar?',\n      text: `Esta Seguro de borrar a${pet.raza}`,\n      icon: 'question',\n      showCancelButton: true,\n      confirmbuttonColor: `#3085d6`,\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Si, Eliminar !'\n    }).then(result => {\n      if (result.isConfirmed) {\n        this.mascotas = this.mascotas.filter(objMascota => objMascota.id !== pet.id);\n        this.mascotasservService.borrarMascotas(pet).subscribe(resp => {\n          this.toastr.success('El registro fue eliminado con éxito', 'Eliminado', {\n            positionclass: 'toast-top-right'\n          });\n        }, err => {\n          Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: err.error.msg\n          });\n        });\n      }\n    });\n  }\n}\nListarComponent.ɵfac = function ListarComponent_Factory(t) {\n  return new (t || ListarComponent)(i0.ɵɵdirectiveInject(i1.MascotasservService));\n};\nListarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListarComponent,\n  selectors: [[\"app-listar\"]],\n  decls: 9,\n  vars: 2,\n  consts: [[1, \"d-flex\", \"p-2\", \"m-5\"], [1, \"container\"], [\"type\", \"text\", \"placeholder\", \"Buscar carta\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup.enter\"], [1, \"row\", \"row-cols-1\", \"row-cols-md-3\", \"row-cols-xl-5\", \"justify-content-center\"], [4, \"ngFor\", \"ngForOf\"], [3, \"obj\", \"eliminar\"]],\n  template: function ListarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelement(2, \"hr\");\n      i0.ɵɵelementStart(3, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function ListarComponent_Template_input_ngModelChange_3_listener($event) {\n        return ctx.parametroBuscar = $event;\n      })(\"keyup.enter\", function ListarComponent_Template_input_keyup_enter_3_listener() {\n        return ctx.buscar();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"hr\");\n      i0.ɵɵelementStart(5, \"div\", 3);\n      i0.ɵɵtemplate(6, ListarComponent_ng_container_6_Template, 2, 1, \"ng-container\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"hr\")(8, \"br\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.parametroBuscar);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.mascotas);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAaEA,6BAA2C;IACzCA,mCAA0D;IAArCA;MAAAA;MAAA;MAAA,OAAYA,6CAAuB;IAAA,EAAC;IAACA,iBAAW;IACvEA,0BAAe;;;;IADHA,eAAW;IAAXA,4BAAW;;;ACLzB,OAAM,MAAOC,eAAe;EAI1BC,YAAoBC,mBAAwC;IAAxC,wBAAmB,GAAnBA,mBAAmB;IAHvC,aAAQ,GAAgB,EAAE,EAAC;IAC3B,oBAAe,GAAW,EAAE,CAAC,CAAC;EAG9B;;EAGAC,QAAQ;IACN,IAAI,CAACD,mBAAmB,CAACE,QAAQ,CAACC,SAAS,CAAEC,IAAI,IAAI;MACnD,IAAI,CAACF,QAAQ,GAAGE,IAAI;IACtB,CAAC,CAAC;EACJ;EAEAC,MAAM;IACJ,IAAI,CAACL,mBAAmB,CAACM,cAAc,CAAC,IAAI,CAACC,eAAe,CAAC,CAACJ,SAAS,CAAEC,IAAI,IAAG;MAC9E,IAAI,CAACF,QAAQ,GAAGE,IAAI;IACtB,CAAC,CAAC;EACJ;EAEAI,eAAe,CAACC,GAAa;IAC3BC,IAAI,CAACC,IAAI,CAAC;MACRC,KAAK,EAAE,4BAA4B;MACnCC,IAAI,EAAE,0BAA0BJ,GAAG,CAACK,IAAI,EAAE;MAC1CC,IAAI,EAAE,UAAU;MAChBC,gBAAgB,EAAE,IAAI;MACtBC,kBAAkB,EAAE,SAAS;MAC7BC,iBAAiB,EAAE,MAAM;MACzBC,iBAAiB,EAAE;KACpB,CAAC,CAACC,IAAI,CAAEC,MAAU,IAAI;MACrB,IAAGA,MAAM,CAACC,WAAW,EAAE;QACrB,IAAI,CAACpB,QAAQ,GAAC,IAAI,CAACA,QAAQ,CAACqB,MAAM,CAAEC,UAAoB,IAAGA,UAAU,CAACC,EAAE,KAAGhB,GAAG,CAACgB,EAAE,CAAC;QAElF,IAAI,CAACzB,mBAAmB,CAAC0B,cAAc,CAACjB,GAAG,CAAC,CAC3CN,SAAS,CAAEC,IAAQ,IAAG;UACrB,IAAI,CAACuB,MAAM,CAACC,OAAO,CAAC,qCAAqC,EAAE,WAAW,EACtE;YAACC,aAAa,EAAE;UAAiB,CAAC,CAAC;QAErC,CAAC,EAAEC,GAAO,IAAG;UACXpB,IAAI,CAACC,IAAI,CAAC;YACRI,IAAI,EAAE,OAAO;YACbH,KAAK,EAAE,OAAO;YACdC,IAAI,EAAEiB,GAAG,CAACC,KAAK,CAACC;WACjB,CAAC;QACJ,CAAC,CAAC;;IAEN,CAAC,CAAC;EACJ;;AA/CWlC,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAmC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDR5BxC,yBAAkC;MAClCA,8BAAuB;MACvBA,qBAAM;MACNA,gCAMC;MAHCA;QAAA;MAAA,EAA6B;QAAA,OACdyC,YAAQ;MAAA,EADM;MAH/BzC,iBAMC;MACDA,qBAAM;MACNA,8BAA+E;MAC7EA,kFAEe;MACjBA,iBAAM;MACNA,qBAAI;MAEJA,iBAAM;;;MAZJA,eAA6B;MAA7BA,6CAA6B;MAMCA,eAAW;MAAXA,sCAAW","names":["i0","ListarComponent","constructor","mascotasservService","ngOnInit","mascotas","subscribe","resp","buscar","buscarMascotas","parametroBuscar","eliminarMascota","pet","Swal","fire","title","text","raza","icon","showCancelButton","confirmbuttonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","filter","objMascota","id","borrarMascotas","toastr","success","positionclass","err","error","msg","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\luis2\\Downloads\\guia\\angular02\\src\\app\\modules\\mascotas\\pages\\listar\\listar.component.html","C:\\Users\\luis2\\Downloads\\guia\\angular02\\src\\app\\modules\\mascotas\\pages\\listar\\listar.component.ts"],"sourcesContent":["<!--<p>listar works!</p>-->\n<div class=\"d-flex p-2 m-5\"></div>\n<div class=\"container\">\n<hr />\n<input type=\"text\"\n  class=\"form-control\"\n  placeholder=\"Buscar carta\"\n  [(ngModel)]=\"parametroBuscar\"\n  (keyup.enter)=\"buscar()\"\n\n>\n<hr />\n<div class=\"row row-cols-1 row-cols-md-3 row-cols-xl-5 justify-content-center\">\n  <ng-container *ngFor=\"let obj of mascotas\">\n    <app-card [obj]=\"obj\"(eliminar)=\"eliminarMascota($event)\"></app-card>\n  </ng-container>\n</div>\n<hr>\n<br>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { IMascotas } from '@modules/mascotas/interface/mascotas.interface';\nimport { MascotasservService } from '@modules/mascotas/services/mascotasserv.service';\n\n@Component({\n  selector: 'app-listar',\n  templateUrl: './listar.component.html',\n  styleUrls: ['./listar.component.scss']\n})\nexport class ListarComponent implements OnInit {\n  mascotas: IMascotas[] = [] // array de mascotas\n  parametroBuscar: string = ''; //parámetro de búsqueda\n\n  constructor(private mascotasservService: MascotasservService) {\n  }\n\n\n  ngOnInit(): void {\n    this.mascotasservService.mascotas.subscribe((resp) =>{\n      this.mascotas = resp;\n    });\n  }\n\n  buscar(): void { //método para buscar\n    this.mascotasservService.buscarMascotas(this.parametroBuscar).subscribe((resp)=>{\n      this.mascotas = resp;\n    });\n  }\n\n  eliminarMascota(pet:IMascotas){\n    Swal.fire({\n      title: '¿Estas Seguro de eliminar?',\n      text: `Esta Seguro de borrar a${pet.raza}`,\n      icon: 'question',\n      showCancelButton: true,\n      confirmbuttonColor: `#3085d6`,\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Si, Eliminar !'\n    }).then((result:any) =>{\n      if(result.isConfirmed) {\n        this.mascotas=this.mascotas.filter((objMascota:IMascotas)=>objMascota.id!==pet.id)\n\n        this.mascotasservService.borrarMascotas(pet)\n        .subscribe((resp:any)=>{\n          this.toastr.success('El registro fue eliminado con éxito', 'Eliminado',\n          {positionclass: 'toast-top-right'});\n\n        },(err:any)=>{\n          Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: err.error.msg,\n          });\n        });\n      }\n    })\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}